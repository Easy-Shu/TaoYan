---
title: "Shell编程：传参"
author: "TaoYan"
date: 2018-02-03T21:19:05
tags: ["Shell"]
categories: ["Shell"]
---

![mark](https://github.com/YTLogos/Pic_blog/blob/master/gfihd4EIE0.png?raw=true)

## shell传递参数
执行shell脚本时，向脚本传递参数，脚本内获取参数的格式为：$n。n代表数字，1为执行脚本的第一个参数，2为第二个，以此类推。

<!--more-->

## 实例
下面实例我们向脚本传递三个参数并分别输出，其中$0为执行的文件名：
新建一个脚本canshu.sh

```
#!/bin/bash
echo "Shell 传递参数实例！"
echo "执行的文件名：$0"
echo "第一个参数为：$1"
echo "第二个参数为：$2"
echo "第三个参数为：$3"
```

运行：
```
$ ./canshu.sh 1 2 3
Shell 传递参数实例！
执行的文件名：./canshu.sh
第一个参数为：1
第二个参数为：2
第三个参数为：3
```

> 特殊字符处理参数

参数处理|说明
---|---
$#|传递到脚本的参数个数
$*|以一个单字符串显示所有向脚本传递的参数,以"$1 $2 ... $n"输出所有参数
$$|脚本运行的当前进程ID号
$!|后台运行的最后一个进程ID号
$@|类似于$*,但是以"$1" "\$2" ... "\$n"输出参数
$-|显示shell使用的当前选项
$?|显示最后命令的退出状态。0表示没有错误，其他任何输出表明有错误

修改上述脚本canshu.sh
```
#!/bin/bash
echo "Shell 传递参数实例！"
echo "第一个参数为：$1"
echo "参数个数为：$#"
echo "传递的参数作为一个字符串显示：$*"
```

运行：
```
$ ./canshu.sh 1 2 3
Shell 传递参数实例！
第一个参数为：1
参数个数为：3
传递的参数作为一个字符串显示：1 2 3
```

> 需要注意的是$*与\$@的区别

* 相同点：都是引用所有参数
* 不同点：只有在双引号中体现出来。假设在脚本运行时写了三个参数1、2、3，则"*"等价于"1 2 3"（传递了一个参数），而"@"等价于"1","2","3"(传递了三个参数)

下面通过一个脚本来说明,新建脚本compare.sh
```
#!/bin/bash
echo "-- \$* 演示 ---"
for i in "$*";do
echo $i
done

echo "-- \$@ 演示 ---"
for i in "$@";do
echo $i
done
```

运行脚本
```
$ ./compare.sh 1 2 3
-- $* 演示 ---
1 2 3
-- $@ 演示 ---
1
2
3
```

区别一目了然。

